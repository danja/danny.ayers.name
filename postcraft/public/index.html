<!DOCTYPE html>
<html lang="en">

<head>
    <title>Danny Ayers - Recent Articles</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Recent articles from danny.ayers.name">

    <!-- Feed autodiscovery -->
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/atom.xml" />

    <!-- #:todo remove when stable -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <link rel="stylesheet" href="/css/fonts.css" type="text/css" />
    <link rel="stylesheet" href="/css/grid-columns.css" type="text/css" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" />
    <link rel="stylesheet" href="/css/menu.css" type="text/css" />

</head>

<body>
    <header id="main-header">
        <h1 class="h-title">
           Raw<em>er</em>
        </h1>
    </header>
    <div class="grid-container">
        <div class="main-grid-item directory">
            <p><strong>Nearby</strong></p>
            <ul>
                <li><a href="https://github.com/danja/tensegrity">Tensegrity</a> - <em>current code projects</em></li>
                <li><a href="https://github.com/danja/tia">TIA Intelligence Agency</a></li>
                <li><a href="https://semem.tensegrity.it">Semem Demo</a></li>
                <li><a href="https://github.com/danja/flues/">Flues</a> . <em>synth experiments</em></li>
                <li><a href="https://danja.github.io/hillside/">Hillside</a> - <em>some recent tunes with visuals</em></li>
                <li><a href="https://github.com/danja/dogalog">Dogalog</a> - <em>livecoding in Prolog</em></li>
                <li><a href="https://hyperdata.it">hyperdata.it</a> - <em>earlier projects</em></li>
            </ul>

            <div class="feed-subscribe">
                <p>üì° <a href="/atom.xml">Subscribe via Atom Feed</a></p>
            </div>
        </div>
        <div class="main-grid-item articles">
            
                
                <article class="article-list-item">
                    <h2>Trajectory: A Geometric Approach to Audio Synthesis</h2>
                    
                    <div class="article-meta">
                        Published: 2026-01-10T08:32:40.228Z
                    </div>
                    
                    <div class="article-content">
                        <!-- ARTICLE CONTENT -->

<article class="post-content">
    <h1>Trajectory: A Geometric Approach to Audio Synthesis</h1>
<p>This turned out to be an interesting algorithm! Description below by Claude.</p>
<p>In <a href="https://github.com/danja/flues/">Flues</a> we&#39;ve implemented it as a monosynth in an <a href="https://danja.github.io/flues/trajectory/">online Web version</a>, as an lv2 plugin (a voice in <a href="https://github.com/danja/flues/tree/main/lv2/disyn">Disyn</a>). We&#39;ve also added a polyphonic version to the Raspberry Pi <a href="https://github.com/danja/flues/tree/main/flues-synth">Flues Synth</a>.
What I actually want is it in hardware, as a Eurorack module. That&#39;s work in progress.</p>
<p>Most audio oscillators generate waveforms by evaluating mathematical functions‚Äîsine waves, sawtooth ramps, or band-limited pulse trains. The Trajectory oscillator takes a different approach: it simulates a point bouncing inside a polygon and converts its motion into sound.</p>
<h2>The Core Idea</h2>
<p>Imagine a billiard ball moving inside a regular polygon‚Äîa triangle, square, hexagon, or any shape with 3 to 12 sides. The ball travels in a straight line until it hits an edge, then reflects perfectly and continues. The Trajectory oscillator tracks this motion in real-time, using the x and y coordinates of the moving point as the audio signal.</p>
<p>The algorithm runs at audio rate (48,000 times per second), updating the point&#39;s position on each sample:</p>
<pre><code>speed = (frequency √ó 4) / sampleRate
position[n+1] = position[n] + velocity
if outside polygon: reflect velocity and nudge point back inside
output = (x √ó mixX + y √ó mixY) √ó 1.0
</code></pre>
<p>The speed of movement scales with the note frequency‚Äîhigher notes produce faster traversal, creating higher-frequency waveforms. This coupling between pitch and motion makes the oscillator musically playable.</p>
<h2>Reflection Mechanics</h2>
<p>The reflection algorithm determines which edge the point has penetrated, calculates the perpendicular normal to that edge, and mirrors the velocity vector. A small inward nudge prevents the point from getting stuck on edges during subsequent collisions. The polygon is normalized to unit radius and centered at the origin, simplifying the geometry.</p>
<h2>Musical Parameters</h2>
<p>The oscillator exposes five control parameters:</p>
<ul>
<li><strong>Sides</strong>: The polygon&#39;s edge count (3-12). A triangle produces angular, chaotic paths. A dodecagon (12 sides) approaches circular motion.</li>
<li><strong>Start Position</strong>: The launch angle from center (0-360¬∞), determining where the point begins.</li>
<li><strong>Start Angle</strong>: The initial direction of travel (0-360¬∞).</li>
<li><strong>Mix X</strong>: How much the x-coordinate contributes to the output (0-1).</li>
<li><strong>Mix Y</strong>: How much the y-coordinate contributes to the output (0-1).</li>
</ul>
<p>The mix controls are particularly useful. Setting <code>mixX = 1.0, mixY = 0</code> produces a waveform based solely on horizontal motion. Blending both coordinates creates more complex trajectories.</p>
<h2>Spectral Character</h2>
<p>Unlike traditional oscillators with fixed harmonic structures, the Trajectory oscillator&#39;s spectrum depends on the geometric path. Low-sided polygons (triangles, squares) produce more abrupt reflections, generating brighter spectra with stronger high-frequency content. Higher-sided polygons create smoother motion and gentler harmonic profiles.</p>
<p>The start position and angle parameters determine the trajectory&#39;s periodicity. Some combinations produce perfectly periodic paths that loop cleanly, while others create quasi-periodic or chaotic motion. This variability makes the oscillator suitable for both tonal and textural synthesis.</p>
<h2>Implementation in Flues-Synth</h2>
<p>The Trajectory oscillator appears as <strong>Program 2</strong> in the flues-synth headless Raspberry Pi synthesizer. It replaces the Disyn distortion synthesis module, operating as the primary excitation source. The output feeds into the formant filters and physical modeling pipeline, where it can be shaped by resonance, feedback, and modulation.</p>
<p>The algorithm was developed in the <code>experiments/trajectory/</code> directory as a JavaScript prototype before being ported to C for the embedded synthesizer. The full derivation and implementation notes are documented in that project&#39;s README.</p>
<h2>Practical Use</h2>
<p>In practice, the Trajectory oscillator excels at creating animated, evolving timbres. Automating the polygon side count during a note creates smooth morphing between geometric behaviors. Modulating the mix controls shifts the spectral balance in real-time. Paired with feedback and filtering, it becomes a source for self-oscillating patches that drift between stability and chaos.</p>
<p>The geometric foundation makes it visually intuitive‚Äîyou can imagine the bouncing point and anticipate how parameter changes will affect the sound. This directness contrasts with abstract waveshaping or spectral formulas, offering a different design workflow.</p>
<h2>References</h2>
<p>The complete algorithm specification, including coefficient calculations and stability requirements, is documented in <code>flues-synth/docs/algorithms.md</code> under &quot;Trajectory Oscillator (Polygon Bounce).&quot; The implementation resides in <code>flues-synth/src/audio/modules/</code> as part of the modular DSP engine.</p>
<p>The Trajectory oscillator demonstrates that synthesis algorithms don&#39;t need complex mathematics to produce interesting results. Sometimes a simple physical model‚Äîa point, a polygon, and a rule‚Äîis enough.
 </p>

</article>
<p class="post-title h-cinzel">
    <a href="http://danny.ayers.name/entries/2026-01-10_trajectory.html">
        Trajectory: A Geometric Approach to Audio Synthesis
    </a>
</p> <em></em>
                    </div>
                </article>
                
                <article class="article-list-item">
                    <h2>NewsMonitor: A Semantic Feed Aggregator</h2>
                    
                    <div class="article-meta">
                        Published: 2026-01-10T08:09:35.818Z
                    </div>
                    
                    <div class="article-content">
                        <!-- ARTICLE CONTENT -->

<article class="post-content">
    <h1>NewsMonitor: A Semantic Feed Aggregator</h1>
<p>Below is Claude&#39;s summary of this sub-project. It&#39;s live at <a href="https://strandz.it">strandz.it</a>.</p>
<p>I wanted the thing for direct reading by me and providing data for <a href="https://github.com/danja/semem">Semem</a>. This is for the general idea of using Semem as a Personal Knowledgebase.</p>
<p>What was kinda marvellous was how easy it was to put together. I think I last made an aggregator <a href="https://github.com/danja/newsmonitor">NewsMonitor</a> about a decade ago (recycled the name here). That had similar functionality (running as a Java service) and took maybe 3 months. This one, with the help of Claude has taken a couple of days. Most of that time I&#39;ve spent on the admin side, the coding was like magic.</p>
<p>NewsMonitor 2026 is built on my <a href="https://github.com/danja/transmissions">Transmissions</a> pipeline framework. I&#39;d previously got Claude to create a <strong>Skill</strong> to write pipelines. They are defined in Turtle-format RDF files. Claude made 7 different ones, which mostly worked first time. This is really impressive given that Claude won&#39;t have seen anything about Transmissions in its training data, as of today only I know how to use it. It is designed to be no harder than it has to be, is down towards the <em>lo code</em> kind of system. But there are the actual pipelines to compose, each of which will need corresponding configuration (another bunch of Turtle) and in many cases new Processors (the nodes in the pipeline) have to be written, and those are straight Javascript on a piece of boilerplate. So overall it&#39;s not trivial. Claude aced it!</p>
<hr>
<p><strong>Date:</strong> January 10, 2026
<strong>Application:</strong> NewsMonitor
<strong>Framework:</strong> Transmissions</p>
<h2>Overview</h2>
<p>NewsMonitor is a feed aggregator application built on the Transmissions message processing framework. It subscribes to RSS, Atom, and RDF feeds, stores their content in a SPARQL triple store, and provides a web interface for browsing aggregated posts.</p>
<h2>Core Functionality</h2>
<p>The application performs three primary functions:</p>
<ol>
<li><strong>Feed Subscription</strong>: Accepts feed URLs and stores feed metadata in RDF format</li>
<li><strong>Content Retrieval</strong>: Fetches feed entries on a scheduled basis and stores them as RDF triples</li>
<li><strong>Content Presentation</strong>: Provides a web interface for browsing and searching aggregated content</li>
</ol>
<h2>Architecture</h2>
<p>NewsMonitor consists of several components:</p>
<ul>
<li><strong>Backend</strong>: Node.js application using the Transmissions framework for message processing</li>
<li><strong>Storage</strong>: Apache Jena Fuseki SPARQL server for RDF data persistence</li>
<li><strong>Frontend</strong>: Static HTML/CSS/JavaScript interface served via HTTP</li>
<li><strong>Scheduler</strong>: Automated feed update process running at configurable intervals</li>
</ul>
<p>Data is stored in two named graphs:</p>
<ul>
<li><code>http://hyperdata.it/feeds</code> - Feed metadata (titles, URLs, format information)</li>
<li><code>http://hyperdata.it/content</code> - Individual post entries with titles, links, dates, and content summaries</li>
</ul>
<h2>Feed Processing Pipeline</h2>
<p>When subscribing to a feed, NewsMonitor executes a pipeline of processors:</p>
<ol>
<li>HTTP client fetches the feed XML</li>
<li>Feed parser extracts individual entries</li>
<li>Deduplicator checks for existing entries using GUIDs and content hashes</li>
<li>RDF builder converts entries to RDF triples using Nunjucks templates</li>
<li>SPARQL updater inserts new entries into the triple store</li>
</ol>
<p>The <code>update-all</code> pipeline iterates through all subscribed feeds, fetching new entries and storing them. Updates run automatically every hour by default, with the interval configurable via environment variables.</p>
<h2>Web Interface</h2>
<p>The application provides two web interfaces:</p>
<p><strong>Main Feed View</strong> (<code>/</code>)</p>
<ul>
<li>Displays recent posts across all subscribed feeds</li>
<li>Shows post titles, dates, feed sources, and content summaries</li>
<li>Includes search and filtering capabilities</li>
<li>Pagination for browsing large result sets</li>
<li>Mobile-responsive layout</li>
</ul>
<p><strong>Admin Interface</strong> (<code>/admin.html</code>)</p>
<ul>
<li>Subscribe to new feeds (bulk entry supported)</li>
<li>View all subscribed feeds with post counts</li>
<li>Unsubscribe from feeds</li>
<li>Manually trigger feed updates</li>
<li>Filter and sort feed lists</li>
</ul>
<h2>API Endpoints</h2>
<p>NewsMonitor exposes several HTTP endpoints:</p>
<ul>
<li><code>GET /api/posts</code> - Retrieve recent posts with pagination</li>
<li><code>GET /api/feeds</code> - List all subscribed feeds</li>
<li><code>GET /api/count</code> - Get total post count</li>
<li><code>POST /api/subscribe</code> - Subscribe to new feeds</li>
<li><code>POST /api/unsubscribe</code> - Remove feed subscriptions</li>
<li><code>POST /api/update-feeds</code> - Trigger manual feed update</li>
<li><code>GET /api/health</code> - Service health check</li>
<li><code>GET /api/diagnostics</code> - SPARQL connectivity diagnostics</li>
</ul>
<h2>Deployment</h2>
<p>The application runs as a Docker container with the following configuration:</p>
<ul>
<li><strong>Port</strong>: 6010 (configurable)</li>
<li><strong>Update Interval</strong>: 3600000ms (1 hour, configurable)</li>
<li><strong>Render Interval</strong>: 300000ms (5 minutes, configurable)</li>
<li><strong>Dependencies</strong>: Requires access to a Fuseki SPARQL endpoint</li>
</ul>
<p>Environment variables control Fuseki connectivity, authentication, and update schedules. The container can be deployed behind nginx for SSL termination and load balancing.</p>
<h2>Data Model</h2>
<p>NewsMonitor uses the SIOC (Semantically-Interlinked Online Communities) vocabulary for representing feeds and posts:</p>
<ul>
<li>Feeds are typed as <code>sioc:Forum</code></li>
<li>Posts are typed as <code>sioc:Post</code></li>
<li>Dublin Core terms (<code>dc:title</code>, <code>dc:date</code>, <code>dc:creator</code>) provide metadata</li>
<li>Posts link to their source feeds via <code>sioc:has_container</code></li>
</ul>
<p>This RDF-based storage enables SPARQL queries for flexible content retrieval and integration with other semantic web applications.</p>
<h2>Current Status</h2>
<p>As of January 2026, NewsMonitor successfully aggregates content from multiple feed formats. The application handles feed parsing, deduplication, and storage of posts with their associated metadata including titles, links, publication dates, authors, and content summaries.</p>
<p>The system has been tested with feeds containing hundreds of entries and handles updates without blocking the web interface. Feed subscriptions persist across container restarts, and the SPARQL store maintains a queryable archive of all retrieved content.</p>
<h2>Technical Notes</h2>
<ul>
<li>Built using ES modules and modern JavaScript features</li>
<li>SPARQL queries use named graphs to separate feeds from content</li>
<li>Deduplication prevents duplicate entries using multiple matching strategies</li>
<li>Templates use Nunjucks for RDF generation from feed data</li>
<li>Mobile interface uses responsive CSS with touch-friendly controls</li>
<li>Feed updates run in separate processes to avoid blocking the API</li>
</ul>
<h2>Files</h2>
<p>Key application files:</p>
<ul>
<li><code>src/apps/newsmonitor/subscribe/</code> - Feed subscription pipeline</li>
<li><code>src/apps/newsmonitor/update-all/</code> - Batch feed update pipeline</li>
<li><code>src/apps/newsmonitor/render-to-html/</code> - Legacy HTML rendering</li>
<li><code>docker/newsmonitor-scheduler.js</code> - Scheduling and HTTP server</li>
<li><code>docker/api-handler.js</code> - REST API implementation</li>
<li><code>docker/public/</code> - Frontend HTML, CSS, and JavaScript</li>
</ul>
<p>Configuration uses RDF/Turtle files (<code>transmissions.ttl</code>, <code>config.ttl</code>) to define processor pipelines and settings, following Transmissions framework conventions.
 </p>

</article>
<p class="post-title h-cinzel">
    <a href="http://danny.ayers.name/entries/2026-01-10_newsmonitor.html">
        NewsMonitor: A Semantic Feed Aggregator
    </a>
</p> <em></em>
                    </div>
                </article>
                
                <article class="article-list-item">
                    <h2>Taylor Oscillator Algorithm</h2>
                    
                    <div class="article-meta">
                        Published: 2025-12-29T09:55:21.634Z
                    </div>
                    
                    <div class="article-content">
                        <!-- ARTICLE CONTENT -->

<article class="post-content">
    <h1>Taylor Oscillator Algorithm</h1>
<p>An idea I had in the context of my <a href="https://github.com/danja/flues/">Flues synth experiments</a>. I&#39;d already got a bunch of fairly novel algorithms I&#39;ve called <strong>Disyn</strong> that I found in some academic material. These I&#39;ve implemented in a few forms : <a href="https://danja.github.io/flues/">live on the Web</a>, <a href="https://github.com/danja/flues/?tab=readme-ov-file#3-distortion-synthesis--disyn">lv2 plugin</a> and headless for the <a href="https://github.com/danja/flues/tree/main/flues-synth">Raspberry Pi</a>.</p>
<p>This morning I thought of another to try. I&#39;ve implemented it in the Web &amp; raspi versions (links above), it is quite good. I can&#39;t really claim it as my own because it&#39;s a certainty that the Taylor series has been used for approximation of a sine wave in a synth before. My only innovation, if you can call it that, is intentionally using the <em>bad approximations</em>, just the first few terms.</p>
<p>If you want some maths homework, figure out what the Fourier transform of the equations will be. The first term is <code>x</code> and there&#39;s wrap around so the crunchiest wave will be a simple sawtooth (maybe clipped in implementation). But next..?</p>
<p><strong>PS. Less interesting than it could be.</strong></p>
<p>I must have been deceived by the other elements in the setup when I was trying the implementations. The series converges really quickly, from about 4 terms it might as well just be a sine wave. I had Claude generate curves for me - it goes from ramp-like through wavefolding-like to sine-like really quickly. I also got Claude to try some variations - &quot;spectral tilt&quot;, emphasizing the later terms in the series. Slightly more interesting, but I reckon more could be acheived by simply wavefolding.</p>
<p><strong>Principle:</strong> Generates waveforms using truncated Taylor series expansion of sine functions. By controlling the number of terms, the algorithm produces everything from rough aliased approximations (few terms) to smooth sinusoids (many terms). Blends fundamental and second harmonic for timbral variation.</p>
<p><strong>Mathematical Basis:</strong>
The Taylor series for sine around x=0:</p>
<pre><code>sin(x) = x - x¬≥/3! + x‚Åµ/5! - x‚Å∑/7! + x‚Åπ/9! - ...
       = Œ£(n=0 to ‚àû) [(-1)‚Åø √ó x^(2n+1) / (2n+1)!]
</code></pre>
<p><strong>Algorithm:</strong></p>
<pre><code>// Wrap angles to [-œÄ, œÄ] for convergence
Œ∏‚ÇÅ = wrap(2œÄ √ó phase)
Œ∏‚ÇÇ = wrap(2 √ó Œ∏‚ÇÅ)

// Compute truncated Taylor series (iterative)
fundamental = taylor_sine(Œ∏‚ÇÅ, firstTerms)
second_harmonic = taylor_sine(Œ∏‚ÇÇ, secondTerms)

// Blend outputs
s(t) = fundamental √ó (1-blend) + second_harmonic √ó blend
</code></pre>
<p><strong>Iterative Computation:</strong></p>
<pre><code class="language-c">float taylor_sine(float x, int num_terms) {
    float wrapped = wrap_angle(x);  // [-œÄ, œÄ]
    float result = 0.0f;
    float term = wrapped;
    float x_squared = wrapped * wrapped;

    for (int n = 0; n &lt; num_terms; n++) {
        result += term;
        // Next term: multiply by -x¬≤/((2n+2)(2n+3))
        float denom = (2*n + 2) * (2*n + 3);
        term *= -x_squared / denom;
    }

    // Clamp to prevent runaway values
    return fmaxf(-1.5f, fminf(1.5f, result));
}
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>param1 (First Terms):</strong> Number of terms for fundamental (1-10)<ul>
<li>Mapped: <code>N = 1 + round(param1 √ó 9)</code></li>
<li>1 term: just x (sawtooth-like, severe aliasing)</li>
<li>5 terms: reasonable approximation</li>
<li>10 terms: nearly perfect sine wave</li>
</ul>
</li>
<li><strong>param2 (Second Terms):</strong> Number of terms for 2nd harmonic (1-10)<ul>
<li>Mapped: <code>M = 1 + round(param2 √ó 9)</code></li>
<li>Controls brightness/overtone character</li>
</ul>
</li>
<li><strong>param3 (Blend):</strong> Mix between fundamental and 2nd harmonic (0-1)<ul>
<li>0.0 = pure fundamental</li>
<li>0.5 = 50/50 mix</li>
<li>1.0 = pure second harmonic (octave up)</li>
</ul>
</li>
</ul>
<p><strong>Implementation Notes:</strong></p>
<ul>
<li><strong>Angle wrapping critical:</strong> Taylor series diverges rapidly for |x| &gt; œÄ</li>
<li><strong>Intermediate clamping:</strong> Each taylor_sine clamped to ¬±1.5</li>
<li><strong>Final output clamp:</strong> Result clamped to ¬±1.0 for audio safety</li>
<li>Iterative computation avoids factorial/power explosion</li>
<li>Peak RMS: ~0.7</li>
<li>Lower term counts produce aliasing (intentional aesthetic)</li>
</ul>
<p><strong>Convergence Behavior:</strong></p>
<ul>
<li><strong>1 term:</strong> <code>sin(x) ‚âà x</code> (linear ramp, harsh)</li>
<li><strong>2 terms:</strong> <code>sin(x) ‚âà x - x¬≥/6</code> (softened, cubic bend)</li>
<li><strong>5 terms:</strong> Good approximation within [-œÄ, œÄ]</li>
<li><strong>10 terms:</strong> Machine-precision sine within [-œÄ, œÄ]</li>
</ul>
<p><strong>Spectral Characteristics:</strong></p>
<ul>
<li>Low term counts: Rich aliased harmonics (digital artifact)</li>
<li>High term counts: Pure fundamental/harmonic (clean sine)</li>
<li>Second harmonic adds octave content</li>
<li>Blend parameter morphs between timbres</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Educational: Visualize Taylor series convergence</li>
<li>Lo-fi synthesis: Aliased/digital character (1-3 terms)</li>
<li>Morphing oscillator: Smooth/harsh transitions</li>
<li>Harmonic exploration: Fundamental + octave blending</li>
<li>Spectral sculpting: Term count automation creates evolving aliasing</li>
</ul>

</article>
<p class="post-title h-cinzel">
    <a href="http://danny.ayers.name/entries/2025-12-29_taylor.html">
        Taylor Oscillator Algorithm
    </a>
</p> <em></em>
                    </div>
                </article>
                
                <article class="article-list-item">
                    <h2>TIA Intelligence Agency: A Small XMPP Lab That Talks Back</h2>
                    
                    <div class="article-meta">
                        Published: 2025-12-21T12:57:28.222Z
                    </div>
                    
                    <div class="article-content">
                        <!-- ARTICLE CONTENT -->

<article class="post-content">
    <h1>TIA Intelligence Agency: A Small XMPP Lab That Talks Back</h1>
<ul>
<li><a href="https://tensegrity.it/chat">Chat Interface</a> - sign up, then join the group chat <a href="mailto:general@conference.tensegrity.it">general@conference.tensegrity.it</a> to meet the agents</li>
<li><a href="https://github.com/danja/tia">Code on GitHub</a></li>
</ul>
<p><em>I&#39;ll now hand you over to my assistant...</em></p>
<p>I am Codex and I helped Danny build this‚ÄîTIA, a chatty little lab where bots hang out in an XMPP room and do useful (and occasionally quirky) things. The vibe is informal: you spin up a few agents, toss a prompt into the room, and watch them negotiate, reason, and riff in real time. But under the hood it‚Äôs tidy: agents are modular, they load their profiles from RDF, and they can speak via MCP tools as easily as they can speak via XMPP.</p>
<p>At its core, TIA is a collection of long-running bots. They live in <code>src/services</code>, and each one has a narrow personality: Mistral for general chat, Chair for IBIS-style debate, Prolog for logic puzzles, Creative for freeform imagination, Demo for quick smoke tests, and Semem for MCP-backed knowledge flows. The bots all connect to an XMPP MUC (multi-user chat) room, so when you watch the room it feels like a little society. Each agent has a profile in <code>config/agents/*.ttl</code>, which is nice because you can inspect or change the system by editing text files instead of digging through code.</p>
<p>The most practical part: TIA exposes a Model Context Protocol server. That means any MCP-compatible client can talk to the room, send messages, and even query for recent chat history. It‚Äôs a clean bridge between AI tools and a real-time chat environment. If you fire up the MCP server, it can auto-register a transient account like <code>mcp-583</code>, join the room, and send messages right away. You can also ask it for recent messages so you can poll for responses without a streaming connection.</p>
<p>What makes this system feel surprisingly robust is that the XMPP layer knows how to rejoin the room when connections flicker. It uses a simple reconnect-and-rejoin loop with backoff. That‚Äôs just enough resilience to survive the day-to-day hiccups of a local XMPP server without turning into a heavyweight reliability project.</p>
<p>There‚Äôs also a little bit of safety logic: the agents don‚Äôt respond forever to other agents unless they‚Äôre explicitly addressed. This keeps them from spinning into long bot-to-bot chatter loops. The default ‚Äúagent rounds‚Äù limit is five, and it‚Äôs set in a small system config file (<code>config/system.ttl</code>), which is a nice nod to ‚Äúconfiguration is data.‚Äù</p>
<p>If you want to poke it, the workflow is straightforward: install dependencies, start a bot, and watch the room. The demo bot runs without an API key, so it‚Äôs a good first step. When you want to add a new agent or tweak behavior, you usually just add a profile, adjust a setting, and the rest of the system adapts.</p>
<p>So that‚Äôs TIA in a nutshell: a modular, inspectable, and slightly playful XMPP bot lab with MCP bridges. It‚Äôs small enough to be understood, but expressive enough to do real collaborative chat workflows. If you enjoy systems where AI tools are first-class participants in a chat room, this is a fun one to explore.
 </p>

</article>
<p class="post-title h-cinzel">
    <a href="http://danny.ayers.name/entries/2025-12-21_tia-blog.html">
        TIA Intelligence Agency: A Small XMPP Lab That Talks Back
    </a>
</p> <em></em>
                    </div>
                </article>
                
                <article class="article-list-item">
                    <h2>Dogalog</h2>
                    
                    <div class="article-meta">
                        Published: 2025-12-14T08:40:47.374Z
                    </div>
                    
                    <div class="article-content">
                        <!-- ARTICLE CONTENT -->

<article class="post-content">
    <h1>Dogalog</h1>
<p>An educational toy - learn <a href="https://en.wikipedia.org/wiki/Prolog">Prolog</a> while making beats! <a href="https://danja.github.io/dogalog/">Live on the Web</a>! (<a href="https://github.com/danja/dogalog">source</a>)</p>
<p>I stumbled on <a href="https://en.wikipedia.org/wiki/Euclidean_rhythm">Euclidean Rhythms</a> a little while ago, an arithmetic pattern for spacing beats in a bar, found across all kinds of music. It&#39;s kinda like a constraint problem.</p>
<p>More recently I had another look at <a href="https://en.wikipedia.org/wiki/Live_coding">livecoding</a> music. I seem to have something of a mental block on it, I still haven&#39;t really had a go. Although intrigued I did write a <a href="https://github.com/danja/sp-mc">MCP server</a> for <a href="https://sonic-pi.net/">Sonic Pi</a>.</p>
<p>Anyway, the other night I couldn&#39;t sleep. Those ideas clunked together in my head, making me think about livecoding in Prolog. I spent most of the night roughing something out with Codex. I still haven&#39;t looked if there&#39;s already a Prolog livecoding engine - I&#39;m probably reinventing the wheel. Well, this will be training wheels.</p>
<p>Because the following day I realised I couldn&#39;t remember how Prolog works. So the challenge became to make something that would get me livecoding <em>and</em> teach me Prolog.
<a href="https://danja.github.io/dogalog/">Dogalog</a> is the result of a good few hours with Claude on it. It&#39;s reasonably well structured, should be ok to extend/maintain. Probably a mistake implementing the Prolog engine from scratch. But without the fancier constructs and optimisations, it isn&#39;t that complicated: term definitions, parser, unifier. The in-place editing went a lot more smoothly than I could have imagined.</p>
<p>It would benefit from a few more eyeballs. I wonder if anyone still teaches Prolog?
I guess I&#39;ll post to Reddit, <a href="https://www.reddit.com/r/livecoding/">r/livecoding</a> and <a href="https://www.reddit.com/r/prolog/">r/prolog</a>.   
 </p>

</article>
<p class="post-title h-cinzel">
    <a href="http://danny.ayers.name/entries/2025-12-14_dogalog.html">
        Dogalog
    </a>
</p> <em></em>
                    </div>
                </article>
                
            
        </div>
        <div class="main-grid-item about">
            <!--
            <h2>About</h2>
            
            -->
        </div>
    </div>
    <script src="js/menu.js"></script>
</body>

</html>